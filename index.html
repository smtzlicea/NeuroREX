---
layout: post
category : Programming
tags : [dyslexia, typoglycemia, Javascript]
title: Dsxyliea
---


LOS TRES CERDITOS

 

Al lado de sus padres, tres cerditos habían crecido alegres en una cabaña del bosque. Y como ya eran mayores, sus papás decidieron que era hora de que construyeran, cada uno, su propia casa. Los tres cerditos se despidieron de sus papas, y fueron a ver cómo era el mundo, y encontraron un bonito lugar cerca del bosque donde construir sus tres casitas.

El primer cerdito, el perezoso de la familia, decidió hacer una casa de paja. En un minuto la choza estaba ya hecha. Y entonces se fue a dormir.

El segundo cerdito, un glotón, prefirió hacer la cabaña de madera. No tardó mucho en construirla y luego se fue a comer manzanas.

El tercer cerdito, muy trabajador, optó por construirse una casa de ladrillos y cemento. Tardaría más en construirla, pero estaría más protegido. Después de un día de mucho trabajo, la casa quedo preciosa. Pero ya se empezaba a oír los aullidos del lobo en el bosque.

No tardo mucho para que el lobo se acercara a las casas de los tres cerditos. Hambriento. El lobo se dirigió a la primera casa y dijo:

– ¡Ábreme la puerta! ¡Ábreme la puerta o soplaré y soplaré y tu casa tiraré!.

Como el cerdito no la abrió, el lobo sopló con fuerza, y derrumbó la casa de paja.


El cerdito, temblando de miedo, salió corriendo y entro en la casa de madera de su hermano. El lobo le siguió.

Y delante de la segunda casa, llamo a la puerta, y dijo:

– ¡Ábreme la puerta! ¡Ábreme la puerta o soplaré y soplaré y tu casa tiraré!

Pero el segundo cerdito no la abrió y el lobo sopló y sopló, y aunque la casita de madera aguantó mucho más que la casita de paja, al final la casita se fue por los aires.

Asustados, los dos cerditos corrieron y entraron en la casa de ladrillos de su otro hermano. Pero como el lobo estaba decidido a comérselos, llamó a la puerta y gritó: – ¡Ábreme la puerta!

¡Ábreme la puerta o soplaré y soplaré y tu casa tiraré! Y el cerdito trabajador le dijo:

– ¡Soplas lo que quieras, pero no la abriré!

Entonces el lobo sopló y sopló. Sopló con todas sus fuerzas, pero la casa ni se movió. La casa era muy fuerte y resistente. El lobo se quedo casi sin aire. Pero aunque el lobo estaba muy cansado, no desistía. Después de dar vueltas y vueltas a la casa, y no encontrar ningún lugar por donde entrar, pensó en subir al tejado, trajo una escalera , subió a la casa y se deslizo por la chimenea. 

Estaba empeñado en entrar en la casa y comer a los tres cerditos como fuera. Pero lo que el no sabía es que los cerditos pusieron al final de la chimenea, un caldero con agua hirviendo. Y el lobo , al caerse por la chimenea acabo quemándose con el agua caliente. Dio un enorme grito y salió corriendo y nunca mas volvió por aquellos parajes. Así los cerditos pudieron vivir tranquilamente. Y tanto el perezoso como el glotón aprendieron que solo con el trabajo se consigue las cosas. Y enseguida se pusieron manos a la obra, y construyeron otras dos casas de ladrillos, y nunca más tuvieron problemas con ningún lobo.




<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script type="text/javascript">

"use strict";

$(function(){

	var getTextNodesIn = function(el) {
	    return $(el).find(":not(iframe,script)").addBack().contents().filter(function() {
	        return this.nodeType == 3;
	    });
	};

	// var textNodes = getTextNodesIn($("p, h1, h2, h3"));
	var textNodes = getTextNodesIn($("*"));



	function isLetter(char) {
		return /^[\d]$/.test(char);
	}


	var wordsInTextNodes = [];
	for (var i = 0; i < textNodes.length; i++) {
		var node = textNodes[i];

		var words = []

		var re = /\w+/g;
		var match;
		while ((match = re.exec(node.nodeValue)) != null) {

			var word = match[0];
			var position = match.index;

			words.push({
				length: word.length,
				position: position
			});
		}

		wordsInTextNodes[i] = words;
	};


	function messUpWords () {

		for (var i = 0; i < textNodes.length; i++) {

			var node = textNodes[i];

			for (var j = 0; j < wordsInTextNodes[i].length; j++) {

				// Only change a tenth of the words each round.
				if (Math.random() > 1/10) {

					continue;
				}

				var wordMeta = wordsInTextNodes[i][j];

				var word = node.nodeValue.slice(wordMeta.position, wordMeta.position + wordMeta.length);
				var before = node.nodeValue.slice(0, wordMeta.position);
				var after  = node.nodeValue.slice(wordMeta.position + wordMeta.length);

				node.nodeValue = before + messUpWord(word) + after;
			};
		};
	}

	function messUpWord (word) {

		if (word.length < 3) {

			return word;
		}

		return word[0] + messUpMessyPart(word.slice(1, -1)) + word[word.length - 1];
	}

	function messUpMessyPart (messyPart) {

		if (messyPart.length < 2) {

			return messyPart;
		}

		var a, b;
		while (!(a < b)) {

			a = getRandomInt(0, messyPart.length - 1);
			b = getRandomInt(0, messyPart.length - 1);
		}

		return messyPart.slice(0, a) + messyPart[b] + messyPart.slice(a+1, b) + messyPart[a] + messyPart.slice(b+1);
	}

	// From https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/random
	function getRandomInt(min, max) {
		
		return Math.floor(Math.random() * (max - min + 1) + min);
	}


	setInterval(messUpWords, 50);
});


</script>
